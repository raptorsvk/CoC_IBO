<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clash of Cultures - Solo Adventure Helper</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header (navy blue) -->
        <header class="header">
            <h1>‚öîÔ∏è Clash of Cultures - Solo Adventure Helper</h1>
            <p class="subtitle">ADVANCE Mechanic Tracker</p>
        </header>

        <!-- Main Content -->
        <div class="main-grid">
            <!-- Left Panel: Tracker (Large) -->
            <div class="left-panel">
                <!-- Roll Controls -->
                <section class="control-section compact">
                    <div class="control-row">
                        <button id="rollBtn" class="btn btn-primary">üé≤ Roll</button>
                        <button id="resetGameBtn" class="btn btn-danger btn-small">Reset</button>
                    </div>
                </section>

                <!-- Roll Info Section -->
                <section class="info-section">
                    <div id="rollInfo">
                        <p class="info-placeholder">Roll to see advancement details...</p>
                    </div>
                </section>

                <!-- Advancements Tracker (LARGER) - Proper 4x3 Grid Order -->
                <section class="tracker-section">
                    <div class="tracker-header">
                        <div class="tracker-header-left">
                            <h2>Advancement Tracker</h2>
                        </div>
                        <div id="aggression-display" class="aggression-display">
                            <div class="aggression-item">
                                <span class="aggression-label">üó°Ô∏èüë£ Land Range:</span>
                                <span class="aggression-value">1</span>
                            </div>
                            <div class="aggression-item">
                                <span class="aggression-label">‚õµ Naval Range:</span>
                                <span class="aggression-value">1</span>
                            </div>
                        </div>
                        <div class="tracker-header-right">
                        <div class="event-tracker-wrap" id="eventTrackerWrap">
                            <div class="event-tracker-row">
                                <span class="event-tracker-label">Event</span>
                                <div class="event-tracker-squares" id="eventTrackerSquares">
                                    <span class="event-square filled" data-idx="0"></span>
                                    <span class="event-square filled" data-idx="1"></span>
                                    <span class="event-square filled" data-idx="2"></span>
                                </div>
                            </div>
                            <div class="event-tracker-help" id="eventTrackerHelp">
                                IBO will only act on the icon of the event. No text of any Event Card effects IBO. If the text effects you, your part is carried out.<br><br>
                                <strong>Barbarians Spawn:</strong> You spawn a Barbarian Settlement and Infantry following placement rules from his cities. IBO will then place the additional barbarian unit in a settlement as close to you and as far from his cities as he can. Roll the die to determine which unit is spawned, similar to recruiting with a Market. Leader = Infantry.<br><br>
                                <strong>Barbarians Move:</strong> You move all Barbarian Armies within 2 Land spaces of his cities 1 space toward his cities. You then place the additional barbarian infantry in all barbarian settlements within 2 of IBO's cities.<br><br>
                                <strong>Pirate Spawn and Raid:</strong> You choose the placement of the first Pirate Ship adjacent to one of his cities. He will then place another Pirate Ship in an empty space adjacent to one of your cities and as far from his cities as possible. If all 4 pirate ships are on board‚Ä¶ remove those closest to his cities first. If at least one Pirate Ship can raid one of his cities, IBO discards a C.<br><br>
                                <strong>Gold Mine:</strong> IBO gains 2 C.<br><br>
                                <strong>Exhausted Land:</strong> Place the Exhausted Token on the scale with the first non-settlement city-piece. When IBO goes to CONSTRUCT this city-piece, return it to supply and place the exhaust token adjacent to the city with his settler instead. If no valid city-piece is on scale, discard exhaust token.
                            </div>
                        </div>
                            <div class="culture-token-badge">
                                <img src="assets/culture-token.png" alt="Culture" class="token-icon" onerror="this.style.display='none';this.nextElementSibling.style.display='inline';" /><span class="token-emoji-fallback" style="display:none;font-size:1.1em">üé≠</span>
                                <span id="cultureTokenBadge" class="token-badge-count">0</span>
                                <button id="tokenDecBtn" class="btn-inline-token">‚àí</button>
                                <button id="tokenIncBtn" class="btn-inline-token">+</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="advancements-grid large">
                        <!-- Row 1 -->
                        <div class="advancement-item" data-category="Agriculture">
                            <div class="advancement-name">Agriculture</div>
                            <div class="advancement-count" id="count-Agriculture">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Construction">
                            <div class="advancement-name">Construction</div>
                            <div class="advancement-count" id="count-Construction">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Maritime">
                            <div class="advancement-name">Maritime</div>
                            <div class="advancement-count" id="count-Maritime">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Education">
                            <div class="advancement-name">Education</div>
                            <div class="advancement-count" id="count-Education">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Warfare">
                            <div class="advancement-name">Warfare</div>
                            <div class="advancement-count" id="count-Warfare">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <!-- Row 2 -->
                        <div class="advancement-item" data-category="Spirituality">
                            <div class="advancement-name">Spirituality</div>
                            <div class="advancement-count" id="count-Spirituality">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Economy">
                            <div class="advancement-name">Economy</div>
                            <div class="advancement-count" id="count-Economy">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Traditions">
                            <div class="advancement-name">Traditions</div>
                            <div class="advancement-count" id="count-Traditions">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Science">
                            <div class="advancement-name">Science</div>
                            <div class="advancement-count" id="count-Science">
                                <div class="square-group"></div>
                            </div>
                        </div>
                        <div class="advancement-item" data-category="Government">
                            <div class="advancement-name">Government</div>
                            <div class="advancement-count" id="count-Government">
                                <div class="square-group"></div>
                            </div>
                        </div>
                    </div>
                    <div class="advancement-total-row">
                        <span class="advancement-total-label">Advancements</span>
                        <span id="advancementTotalCount" class="advancement-total-value">0/40</span>
                    </div>
                </section>
            </div>

            <!-- Right Panel: Log (SMALLER) -->
            <div class="right-panel">
                <section class="log-section">
                    <div class="log-header">
                        <h2>Game Log</h2>
                        <button id="clearLogBtn" class="btn btn-small">Clear</button>
                    </div>
                    <div class="log-container" id="logContainer">
                        <div class="log-entry welcome">
                            <span class="log-timestamp">Start</span>
                            <span class="log-message">Welcome to Clash of Cultures Helper! Click Roll to begin.</span>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
